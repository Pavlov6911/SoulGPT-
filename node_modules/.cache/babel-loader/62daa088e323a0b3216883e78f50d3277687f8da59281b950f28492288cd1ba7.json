{"ast":null,"code":"import _objectSpread from\"D:/teste/saita na EMO/vantage-traders/SoulGPT-/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{Send,Plus,Settings,HelpCircle,User,Copy,Upload,MoreHorizontal,ThumbsUp,ThumbsDown,Menu,X,FileText,Folder,ExternalLink,Sparkles,History,Clock,Trash2,MessageCircle}from'lucide-react';import{useNavigate}from'react-router-dom';import ThemeToggle from'../components/ThemeToggle';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ChatInterface=()=>{const navigate=useNavigate();const[messages,setMessages]=useState([]);const[inputMessage,setInputMessage]=useState('');const[isTyping,setIsTyping]=useState(false);const[uploadedFiles,setUploadedFiles]=useState([]);const[isMobileMenuOpen,setIsMobileMenuOpen]=useState(false);const[hoveredMessageId,setHoveredMessageId]=useState(null);const[openDropdownId,setOpenDropdownId]=useState(null);const[showFilesModal,setShowFilesModal]=useState(false);const[showHelpModal,setShowHelpModal]=useState(false);const[showHistoryPanel,setShowHistoryPanel]=useState(false);const[chatHistory,setChatHistory]=useState([]);const[currentChatId,setCurrentChatId]=useState(null);const messagesEndRef=useRef(null);const inputRef=useRef(null);const fileInputRef=useRef(null);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[messages]);// Auto-save current chat to history when messages change\nuseEffect(()=>{if(messages.length>0&&currentChatId){const timeoutId=setTimeout(()=>{saveCurrentChatToHistory();},1000);// Debounce to avoid too frequent saves\nreturn()=>clearTimeout(timeoutId);}},[messages,currentChatId]);const handleSendMessage=async()=>{if(!inputMessage.trim()&&uploadedFiles.length===0)return;// Set current chat ID if this is a new conversation\nif(!currentChatId&&messages.length===0){setCurrentChatId(Date.now().toString());}const userMessage={id:Date.now().toString(),content:inputMessage,sender:'user',timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);setInputMessage('');setUploadedFiles([]);setIsTyping(true);// Simulate AI response\nsetTimeout(()=>{const aiResponse={id:(Date.now()+1).toString(),content:generateAIResponse(inputMessage),sender:'ai',timestamp:new Date()};setMessages(prev=>[...prev,aiResponse]);setIsTyping(false);},1500);};const generateAIResponse=userInput=>{const responses=[\"That's an interesting question! Let me think about that...\",\"I understand what you're asking. Here's my perspective...\",\"Great point! I'd like to explore this further...\",\"Thanks for sharing that. Based on what you've said...\",\"I appreciate your question. Let me provide some insights...\"];return responses[Math.floor(Math.random()*responses.length)]+\" \"+\"This is a simulated response to demonstrate the chat interface. In a real implementation, this would connect to an actual AI service.\";};const saveCurrentChatToHistory=()=>{var _messages$,_messages$2,_messages,_messages2;if(!currentChatId||messages.length===0)return;const chatTitle=((_messages$=messages[0])===null||_messages$===void 0?void 0:_messages$.content.slice(0,50))+(((_messages$2=messages[0])===null||_messages$2===void 0?void 0:_messages$2.content.length)>50?'...':'');const lastMessage=((_messages=messages[messages.length-1])===null||_messages===void 0?void 0:_messages.content.slice(0,100))+(((_messages2=messages[messages.length-1])===null||_messages2===void 0?void 0:_messages2.content.length)>100?'...':'');const chatToSave={id:currentChatId,title:chatTitle,messages:[...messages],timestamp:new Date(),lastMessage};setChatHistory(prev=>{const existingIndex=prev.findIndex(chat=>chat.id===currentChatId);if(existingIndex>=0){const updated=[...prev];updated[existingIndex]=chatToSave;return updated;}else{return[chatToSave,...prev];}});};const loadChatFromHistory=chatId=>{const chat=chatHistory.find(c=>c.id===chatId);if(chat){setMessages(chat.messages);setCurrentChatId(chatId);setShowHistoryPanel(false);}};const startNewChat=()=>{if(messages.length>0){saveCurrentChatToHistory();}setMessages([]);setCurrentChatId(null);setInputMessage('');setUploadedFiles([]);setShowHistoryPanel(false);};const deleteChatFromHistory=chatId=>{setChatHistory(prev=>prev.filter(chat=>chat.id!==chatId));if(currentChatId===chatId){startNewChat();}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSendMessage();}};const handleFileUpload=e=>{const files=Array.from(e.target.files||[]);const newFiles=files.map(file=>({id:Date.now().toString()+Math.random(),name:file.name,type:file.type,size:file.size}));setUploadedFiles(prev=>[...prev,...newFiles]);};const removeFile=fileId=>{setUploadedFiles(prev=>prev.filter(file=>file.id!==fileId));};const copyMessage=content=>{navigator.clipboard.writeText(content);};const toggleMessageExpansion=messageId=>{setMessages(prev=>prev.map(msg=>msg.id===messageId?_objectSpread(_objectSpread({},msg),{},{isExpanded:!msg.isExpanded}):msg));};const formatFileSize=bytes=>{if(bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-screen bg-white dark:bg-black text-black dark:text-white\",children:[isMobileMenuOpen&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 bg-black/50 z-40 lg:hidden\",onClick:()=>setIsMobileMenuOpen(false)}),/*#__PURE__*/_jsxs(motion.aside,{initial:{x:-300},animate:{x:isMobileMenuOpen?0:-300},className:\"fixed lg:relative lg:translate-x-0 w-80 h-full bg-gray-50 dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 z-50 lg:z-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-black dark:bg-white rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white dark:text-black font-bold text-sm\",children:\"S\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg\",children:\"SoulGPT\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsMobileMenuOpen(false),className:\"lg:hidden p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsxs(motion.button,{whileHover:{scale:1.02},whileTap:{scale:0.98},onClick:startNewChat,className:\"w-full flex items-center space-x-3 p-3 bg-black dark:bg-white text-white dark:text-black rounded-xl hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"New Chat\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-600 dark:text-gray-400\",children:\"Recent Chats\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowHistoryPanel(!showHistoryPanel),className:\"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors\",children:/*#__PURE__*/_jsx(History,{className:\"w-4 h-4\"})})]}),chatHistory.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-8 h-8 mx-auto mb-2 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No chat history yet\"})]}):chatHistory.slice(0,10).map(chat=>/*#__PURE__*/_jsx(motion.div,{whileHover:{scale:1.02},className:\"group p-3 rounded-lg cursor-pointer transition-colors \".concat(currentChatId===chat.id?'bg-gray-200 dark:bg-gray-700':'hover:bg-gray-100 dark:hover:bg-gray-800'),onClick:()=>loadChatFromHistory(chat.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium truncate\",children:chat.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1 truncate\",children:chat.lastMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 mt-2 text-xs text-gray-400\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(chat.timestamp).toLocaleDateString()})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();deleteChatFromHistory(chat.id);},className:\"opacity-0 group-hover:opacity-100 p-1 hover:bg-red-100 dark:hover:bg-red-900 rounded transition-all\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-3 h-3 text-red-500\"})})]})},chat.id))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(motion.button,{whileHover:{scale:1.02},whileTap:{scale:0.98},onClick:()=>setShowFilesModal(true),className:\"w-full flex items-center space-x-3 p-3 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\",children:[/*#__PURE__*/_jsx(Folder,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Files\"})]}),/*#__PURE__*/_jsxs(motion.button,{whileHover:{scale:1.02},whileTap:{scale:0.98},onClick:()=>setShowHelpModal(true),className:\"w-full flex items-center space-x-3 p-3 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\",children:[/*#__PURE__*/_jsx(HelpCircle,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Help & FAQ\"})]}),/*#__PURE__*/_jsxs(motion.button,{whileHover:{scale:1.02},whileTap:{scale:0.98},onClick:()=>navigate('/settings'),className:\"w-full flex items-center space-x-3 p-3 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\",children:[/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Settings\"})]})]})})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:showHistoryPanel&&/*#__PURE__*/_jsxs(motion.div,{initial:{x:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},className:\"fixed left-80 top-0 w-80 h-full bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 z-30 shadow-xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:\"Chat History\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowHistoryPanel(false),className:\"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-4\",children:chatHistory.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(History,{className:\"w-12 h-12 mx-auto mb-4 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No chat history available\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:chatHistory.map(chat=>/*#__PURE__*/_jsx(motion.div,{whileHover:{scale:1.02},className:\"group p-4 rounded-lg cursor-pointer border transition-all \".concat(currentChatId===chat.id?'border-black dark:border-white bg-gray-50 dark:bg-gray-800':'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'),onClick:()=>loadChatFromHistory(chat.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-sm mb-2 truncate\",children:chat.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 dark:text-gray-400 mb-3 line-clamp-2\",children:chat.lastMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 text-xs text-gray-400\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(chat.timestamp).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-400\",children:[chat.messages.length,\" messages\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();deleteChatFromHistory(chat.id);},className:\"opacity-0 group-hover:opacity-100 ml-2 p-1 hover:bg-red-100 dark:hover:bg-red-900 rounded transition-all\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4 text-red-500\"})})]})},chat.id))})})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 overflow-y-auto bg-white dark:bg-black transition-all duration-300 \".concat(showHistoryPanel?'ml-80':''),children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto px-4 py-6\",children:messages.length===0?/*#__PURE__*//* Empty State */_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.6},className:\"flex items-center justify-center h-full min-h-[60vh]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:0.2,type:\"spring\",stiffness:200},className:\"w-16 h-16 bg-black dark:bg-white rounded-2xl flex items-center justify-center mx-auto mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-white dark:text-black\",children:\"S\"})}),/*#__PURE__*/_jsx(motion.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:0.4},className:\"text-3xl font-bold text-black dark:text-white mb-3\",children:\"How can I help you today?\"}),/*#__PURE__*/_jsx(motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:0.6},className:\"text-black/60 dark:text-white/60 text-lg\",children:\"Start a conversation by typing a message below.\"})]})}):/*#__PURE__*//* Messages */_jsxs(\"div\",{className:\"space-y-6\",children:[messages.map(message=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.3},className:\"flex \".concat(message.sender==='user'?'justify-end':'justify-start'),onMouseEnter:()=>setHoveredMessageId(message.id),onMouseLeave:()=>setHoveredMessageId(null),children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-[80%] \".concat(message.sender==='user'?'order-2':'order-1'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3 \".concat(message.sender==='user'?'flex-row-reverse space-x-reverse':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full flex items-center justify-center \".concat(message.sender==='user'?'bg-black dark:bg-white':'bg-gray-200 dark:bg-gray-700'),children:message.sender==='user'?/*#__PURE__*/_jsx(User,{className:\"w-4 h-4 text-white dark:text-black\"}):/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-bold text-black dark:text-white\",children:\"S\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 \".concat(message.sender==='user'?'text-right':'text-left'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inline-block p-4 rounded-2xl \".concat(message.sender==='user'?'bg-black dark:bg-white text-white dark:text-black':'bg-gray-100 dark:bg-gray-800 text-black dark:text-white'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"whitespace-pre-wrap \".concat(message.isExpanded?'':'line-clamp-6'),children:message.content}),message.content.length>300&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleMessageExpansion(message.id),className:\"mt-2 text-sm underline \".concat(message.sender==='user'?'text-white/70 dark:text-black/70':'text-black/70 dark:text-white/70'),children:message.isExpanded?'Show less':'Show more'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-2 space-x-2 text-xs text-gray-500 \".concat(message.sender==='user'?'justify-end':'justify-start'),children:[/*#__PURE__*/_jsx(\"span\",{children:message.timestamp.toLocaleTimeString()}),/*#__PURE__*/_jsx(AnimatePresence,{children:hoveredMessageId===message.id&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.8},className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyMessage(message.content),className:\"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors\",title:\"Copy message\",children:/*#__PURE__*/_jsx(Copy,{className:\"w-3 h-3\"})}),message.sender==='ai'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors\",title:\"Good response\",children:/*#__PURE__*/_jsx(ThumbsUp,{className:\"w-3 h-3\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors\",title:\"Poor response\",children:/*#__PURE__*/_jsx(ThumbsDown,{className:\"w-3 h-3\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setOpenDropdownId(openDropdownId===message.id?null:message.id),className:\"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors\",children:/*#__PURE__*/_jsx(MoreHorizontal,{className:\"w-3 h-3\"})}),/*#__PURE__*/_jsx(AnimatePresence,{children:openDropdownId===message.id&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:\"absolute bottom-full right-0 mb-2 w-32 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 rounded-t-lg\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700\",children:\"Share\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-b-lg\",children:\"Delete\"})]})})]})]})})]})]})]})})},message.id)),/*#__PURE__*/_jsx(AnimatePresence,{children:isTyping&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:\"flex justify-start\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-bold text-black dark:text-white\",children:\"S\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 dark:bg-gray-800 p-4 rounded-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[/*#__PURE__*/_jsx(motion.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:Infinity,delay:0},className:\"w-2 h-2 bg-gray-400 rounded-full\"}),/*#__PURE__*/_jsx(motion.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:Infinity,delay:0.2},className:\"w-2 h-2 bg-gray-400 rounded-full\"}),/*#__PURE__*/_jsx(motion.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:Infinity,delay:0.4},className:\"w-2 h-2 bg-gray-400 rounded-full\"})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]})})}),/*#__PURE__*/_jsxs(motion.footer,{initial:{y:100},animate:{y:0},className:\"fixed bottom-0 left-0 right-0 bg-white dark:bg-black border-t border-gray-200 dark:border-gray-700 p-4\",children:[/*#__PURE__*/_jsx(AnimatePresence,{children:uploadedFiles.length>0&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:'auto'},exit:{opacity:0,height:0},className:\"mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:uploadedFiles.map(file=>/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.8},className:\"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded-lg\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm truncate max-w-32\",children:file.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-400\",children:[\"(\",formatFileSize(file.size),\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeFile(file.id),className:\"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-3 h-3\"})})]},file.id))})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsMobileMenuOpen(true),className:\"lg:hidden p-3 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors\",children:/*#__PURE__*/_jsx(Menu,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end bg-gray-100 dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 focus-within:border-black dark:focus-within:border-white transition-colors\",children:[/*#__PURE__*/_jsx(\"textarea\",{ref:inputRef,value:inputMessage,onChange:e=>setInputMessage(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Type your message...\",className:\"flex-1 bg-transparent px-4 py-3 resize-none outline-none placeholder-gray-500 dark:placeholder-gray-400 max-h-32\",rows:1,style:{height:'auto',minHeight:'48px',maxHeight:'128px'},onInput:e=>{const target=e.target;target.style.height='auto';target.style.height=Math.min(target.scrollHeight,128)+'px';}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 px-3 py-2\",children:[/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",multiple:true,onChange:handleFileUpload,className:\"hidden\",accept:\".txt,.pdf,.doc,.docx,.png,.jpg,.jpeg\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},className:\"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors\",title:\"Upload files\",children:/*#__PURE__*/_jsx(Upload,{className:\"w-5 h-5 text-gray-500\"})})]})]})}),/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:handleSendMessage,disabled:!inputMessage.trim()&&uploadedFiles.length===0,className:\"p-3 bg-black dark:bg-white text-white dark:text-black rounded-xl hover:bg-gray-800 dark:hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:/*#__PURE__*/_jsx(Send,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsx(ThemeToggle,{})]})})]}),/*#__PURE__*/_jsxs(AnimatePresence,{children:[showFilesModal&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\",onClick:()=>setShowFilesModal(false),children:/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0.9,opacity:0},className:\"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Files\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowFilesModal(false),className:\"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(Folder,{className:\"w-12 h-12 mx-auto mb-4 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No files uploaded yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-2\",children:\"Upload files to get started\"})]})]})}),showHelpModal&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\",onClick:()=>setShowHelpModal(false),children:/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0.9,opacity:0},className:\"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold\",children:\"Help & FAQ\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowHelpModal(false),className:\"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-5 h-5 mr-2\"}),\"Getting Started\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 text-sm\",children:\"Welcome to SoulGPT! Start by typing a message in the input field below. You can ask questions, request help with tasks, or have a conversation.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-5 h-5 mr-2\"}),\"File Uploads\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 text-sm\",children:\"You can upload files by clicking the upload button next to the message input. Supported formats include text files, PDFs, and images.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(History,{className:\"w-5 h-5 mr-2\"}),\"Chat History\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 text-sm\",children:\"Your conversations are automatically saved. Access previous chats from the sidebar or use the history panel for a detailed view.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5 mr-2\"}),\"Customization\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 text-sm\",children:\"Personalize your experience in the Settings page. You can change themes, adjust preferences, and manage your account.\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-4 text-sm text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"#\",className:\"flex items-center hover:text-black dark:hover:text-white transition-colors\",children:[/*#__PURE__*/_jsx(ExternalLink,{className:\"w-4 h-4 mr-1\"}),\"Documentation\"]}),/*#__PURE__*/_jsxs(\"a\",{href:\"#\",className:\"flex items-center hover:text-black dark:hover:text-white transition-colors\",children:[/*#__PURE__*/_jsx(ExternalLink,{className:\"w-4 h-4 mr-1\"}),\"Support\"]})]})})]})})]})]});};export default ChatInterface;","map":{"version":3,"names":["React","useState","useRef","useEffect","motion","AnimatePresence","Send","Plus","Settings","HelpCircle","User","Copy","Upload","MoreHorizontal","ThumbsUp","ThumbsDown","Menu","X","FileText","Folder","ExternalLink","Sparkles","History","Clock","Trash2","MessageCircle","useNavigate","ThemeToggle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ChatInterface","navigate","messages","setMessages","inputMessage","setInputMessage","isTyping","setIsTyping","uploadedFiles","setUploadedFiles","isMobileMenuOpen","setIsMobileMenuOpen","hoveredMessageId","setHoveredMessageId","openDropdownId","setOpenDropdownId","showFilesModal","setShowFilesModal","showHelpModal","setShowHelpModal","showHistoryPanel","setShowHistoryPanel","chatHistory","setChatHistory","currentChatId","setCurrentChatId","messagesEndRef","inputRef","fileInputRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","length","timeoutId","setTimeout","saveCurrentChatToHistory","clearTimeout","handleSendMessage","trim","Date","now","toString","userMessage","id","content","sender","timestamp","prev","aiResponse","generateAIResponse","userInput","responses","Math","floor","random","_messages$","_messages$2","_messages","_messages2","chatTitle","slice","lastMessage","chatToSave","title","existingIndex","findIndex","chat","updated","loadChatFromHistory","chatId","find","c","startNewChat","deleteChatFromHistory","filter","handleKeyPress","e","key","shiftKey","preventDefault","handleFileUpload","files","Array","from","target","newFiles","map","file","name","type","size","removeFile","fileId","copyMessage","navigator","clipboard","writeText","toggleMessageExpansion","messageId","msg","_objectSpread","isExpanded","formatFileSize","bytes","k","sizes","i","log","parseFloat","pow","toFixed","className","children","div","initial","opacity","animate","exit","onClick","aside","x","button","whileHover","scale","whileTap","concat","toLocaleDateString","stopPropagation","y","transition","duration","delay","stiffness","h2","p","message","onMouseEnter","onMouseLeave","toLocaleTimeString","repeat","Infinity","ref","footer","height","value","onChange","onKeyPress","placeholder","rows","style","minHeight","maxHeight","onInput","min","scrollHeight","multiple","accept","_fileInputRef$current","click","disabled","href"],"sources":["D:/teste/saita na EMO/vantage-traders/SoulGPT-/src/pages/ChatInterface.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Send, Plus, Settings, HelpCircle, User, Copy, Upload, MoreHorizontal, ThumbsUp, ThumbsDown, Menu, X, FileText, Folder, ExternalLink, Sparkles, History, Clock, Trash2, MessageCircle } from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\nimport ThemeToggle from '../components/ThemeToggle';\n\ninterface Message {\n  id: string;\n  content: string;\n  sender: 'user' | 'ai';\n  timestamp: Date;\n  isExpanded?: boolean;\n}\n\ninterface UploadedFile {\n  id: string;\n  name: string;\n  type: string;\n  size: number;\n}\n\ninterface ChatHistory {\n  id: string;\n  title: string;\n  messages: Message[];\n  timestamp: Date;\n  lastMessage?: string;\n}\n\nconst ChatInterface: React.FC = () => {\n  const navigate = useNavigate();\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [uploadedFiles, setUploadedFiles] = useState<UploadedFile[]>([]);\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [hoveredMessageId, setHoveredMessageId] = useState<string | null>(null);\n  const [openDropdownId, setOpenDropdownId] = useState<string | null>(null);\n  const [showFilesModal, setShowFilesModal] = useState(false);\n  const [showHelpModal, setShowHelpModal] = useState(false);\n  const [showHistoryPanel, setShowHistoryPanel] = useState(false);\n  const [chatHistory, setChatHistory] = useState<ChatHistory[]>([]);\n  const [currentChatId, setCurrentChatId] = useState<string | null>(null);\n  \n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLTextAreaElement>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Auto-save current chat to history when messages change\n  useEffect(() => {\n    if (messages.length > 0 && currentChatId) {\n      const timeoutId = setTimeout(() => {\n        saveCurrentChatToHistory();\n      }, 1000); // Debounce to avoid too frequent saves\n      \n      return () => clearTimeout(timeoutId);\n    }\n  }, [messages, currentChatId]);\n\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim() && uploadedFiles.length === 0) return;\n\n    // Set current chat ID if this is a new conversation\n    if (!currentChatId && messages.length === 0) {\n      setCurrentChatId(Date.now().toString());\n    }\n\n    const userMessage: Message = {\n      id: Date.now().toString(),\n      content: inputMessage,\n      sender: 'user',\n      timestamp: new Date()\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setInputMessage('');\n    setUploadedFiles([]);\n    setIsTyping(true);\n\n    // Simulate AI response\n    setTimeout(() => {\n      const aiResponse: Message = {\n        id: (Date.now() + 1).toString(),\n        content: generateAIResponse(inputMessage),\n        sender: 'ai',\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, aiResponse]);\n      setIsTyping(false);\n    }, 1500);\n  };\n\n  const generateAIResponse = (userInput: string): string => {\n    const responses = [\n      \"That's an interesting question! Let me think about that...\",\n      \"I understand what you're asking. Here's my perspective...\",\n      \"Great point! I'd like to explore this further...\",\n      \"Thanks for sharing that. Based on what you've said...\",\n      \"I appreciate your question. Let me provide some insights...\"\n    ];\n    \n    return responses[Math.floor(Math.random() * responses.length)] + \" \" + \n           \"This is a simulated response to demonstrate the chat interface. In a real implementation, this would connect to an actual AI service.\";\n  };\n\n  const saveCurrentChatToHistory = () => {\n    if (!currentChatId || messages.length === 0) return;\n\n    const chatTitle = messages[0]?.content.slice(0, 50) + (messages[0]?.content.length > 50 ? '...' : '');\n    const lastMessage = messages[messages.length - 1]?.content.slice(0, 100) + (messages[messages.length - 1]?.content.length > 100 ? '...' : '');\n\n    const chatToSave: ChatHistory = {\n      id: currentChatId,\n      title: chatTitle,\n      messages: [...messages],\n      timestamp: new Date(),\n      lastMessage\n    };\n\n    setChatHistory(prev => {\n      const existingIndex = prev.findIndex(chat => chat.id === currentChatId);\n      if (existingIndex >= 0) {\n        const updated = [...prev];\n        updated[existingIndex] = chatToSave;\n        return updated;\n      } else {\n        return [chatToSave, ...prev];\n      }\n    });\n  };\n\n  const loadChatFromHistory = (chatId: string) => {\n    const chat = chatHistory.find(c => c.id === chatId);\n    if (chat) {\n      setMessages(chat.messages);\n      setCurrentChatId(chatId);\n      setShowHistoryPanel(false);\n    }\n  };\n\n  const startNewChat = () => {\n    if (messages.length > 0) {\n      saveCurrentChatToHistory();\n    }\n    setMessages([]);\n    setCurrentChatId(null);\n    setInputMessage('');\n    setUploadedFiles([]);\n    setShowHistoryPanel(false);\n  };\n\n  const deleteChatFromHistory = (chatId: string) => {\n    setChatHistory(prev => prev.filter(chat => chat.id !== chatId));\n    if (currentChatId === chatId) {\n      startNewChat();\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = Array.from(e.target.files || []);\n    const newFiles: UploadedFile[] = files.map(file => ({\n      id: Date.now().toString() + Math.random(),\n      name: file.name,\n      type: file.type,\n      size: file.size\n    }));\n    setUploadedFiles(prev => [...prev, ...newFiles]);\n  };\n\n  const removeFile = (fileId: string) => {\n    setUploadedFiles(prev => prev.filter(file => file.id !== fileId));\n  };\n\n  const copyMessage = (content: string) => {\n    navigator.clipboard.writeText(content);\n  };\n\n  const toggleMessageExpansion = (messageId: string) => {\n    setMessages(prev => prev.map(msg => \n      msg.id === messageId \n        ? { ...msg, isExpanded: !msg.isExpanded }\n        : msg\n    ));\n  };\n\n  const formatFileSize = (bytes: number): string => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  return (\n    <div className=\"flex h-screen bg-white dark:bg-black text-black dark:text-white\">\n      {/* Mobile Menu Overlay */}\n      {isMobileMenuOpen && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          className=\"fixed inset-0 bg-black/50 z-40 lg:hidden\"\n          onClick={() => setIsMobileMenuOpen(false)}\n        />\n      )}\n\n      {/* Sidebar */}\n      <motion.aside\n        initial={{ x: -300 }}\n        animate={{ x: isMobileMenuOpen ? 0 : -300 }}\n        className=\"fixed lg:relative lg:translate-x-0 w-80 h-full bg-gray-50 dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 z-50 lg:z-auto\"\n      >\n        <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-8 h-8 bg-black dark:bg-white rounded-lg flex items-center justify-center\">\n                <span className=\"text-white dark:text-black font-bold text-sm\">S</span>\n              </div>\n              <span className=\"font-semibold text-lg\">SoulGPT</span>\n            </div>\n            <button\n              onClick={() => setIsMobileMenuOpen(false)}\n              className=\"lg:hidden p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n          \n          <motion.button\n            whileHover={{ scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n            onClick={startNewChat}\n            className=\"w-full flex items-center space-x-3 p-3 bg-black dark:bg-white text-white dark:text-black rounded-xl hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors\"\n          >\n            <Plus className=\"w-5 h-5\" />\n            <span className=\"font-medium\">New Chat</span>\n          </motion.button>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-4\">\n          <div className=\"space-y-2\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h3 className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Recent Chats</h3>\n              <button\n                onClick={() => setShowHistoryPanel(!showHistoryPanel)}\n                className=\"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors\"\n              >\n                <History className=\"w-4 h-4\" />\n              </button>\n            </div>\n            \n            {chatHistory.length === 0 ? (\n              <div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n                <MessageCircle className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n                <p className=\"text-sm\">No chat history yet</p>\n              </div>\n            ) : (\n              chatHistory.slice(0, 10).map((chat) => (\n                <motion.div\n                  key={chat.id}\n                  whileHover={{ scale: 1.02 }}\n                  className={`group p-3 rounded-lg cursor-pointer transition-colors ${\n                    currentChatId === chat.id\n                      ? 'bg-gray-200 dark:bg-gray-700'\n                      : 'hover:bg-gray-100 dark:hover:bg-gray-800'\n                  }`}\n                  onClick={() => loadChatFromHistory(chat.id)}\n                >\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1 min-w-0\">\n                      <h4 className=\"text-sm font-medium truncate\">{chat.title}</h4>\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1 truncate\">\n                        {chat.lastMessage}\n                      </p>\n                      <div className=\"flex items-center space-x-1 mt-2 text-xs text-gray-400\">\n                        <Clock className=\"w-3 h-3\" />\n                        <span>{new Date(chat.timestamp).toLocaleDateString()}</span>\n                      </div>\n                    </div>\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        deleteChatFromHistory(chat.id);\n                      }}\n                      className=\"opacity-0 group-hover:opacity-100 p-1 hover:bg-red-100 dark:hover:bg-red-900 rounded transition-all\"\n                    >\n                      <Trash2 className=\"w-3 h-3 text-red-500\" />\n                    </button>\n                  </div>\n                </motion.div>\n              ))\n            )}\n          </div>\n        </div>\n\n        <div className=\"p-4 border-t border-gray-200 dark:border-gray-700\">\n          <div className=\"space-y-2\">\n            <motion.button\n              whileHover={{ scale: 1.02 }}\n              whileTap={{ scale: 0.98 }}\n              onClick={() => setShowFilesModal(true)}\n              className=\"w-full flex items-center space-x-3 p-3 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\"\n            >\n              <Folder className=\"w-5 h-5\" />\n              <span>Files</span>\n            </motion.button>\n            \n            <motion.button\n              whileHover={{ scale: 1.02 }}\n              whileTap={{ scale: 0.98 }}\n              onClick={() => setShowHelpModal(true)}\n              className=\"w-full flex items-center space-x-3 p-3 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\"\n            >\n              <HelpCircle className=\"w-5 h-5\" />\n              <span>Help & FAQ</span>\n            </motion.button>\n            \n            <motion.button\n              whileHover={{ scale: 1.02 }}\n              whileTap={{ scale: 0.98 }}\n              onClick={() => navigate('/settings')}\n              className=\"w-full flex items-center space-x-3 p-3 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\"\n            >\n              <Settings className=\"w-5 h-5\" />\n              <span>Settings</span>\n            </motion.button>\n          </div>\n        </div>\n      </motion.aside>\n\n      {/* History Panel */}\n      <AnimatePresence>\n        {showHistoryPanel && (\n          <motion.div\n            initial={{ x: -300, opacity: 0 }}\n            animate={{ x: 0, opacity: 1 }}\n            exit={{ x: -300, opacity: 0 }}\n            className=\"fixed left-80 top-0 w-80 h-full bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 z-30 shadow-xl\"\n          >\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-lg font-semibold\">Chat History</h2>\n                <button\n                  onClick={() => setShowHistoryPanel(false)}\n                  className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n            </div>\n            \n            <div className=\"flex-1 overflow-y-auto p-4\">\n              {chatHistory.length === 0 ? (\n                <div className=\"text-center py-12 text-gray-500 dark:text-gray-400\">\n                  <History className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n                  <p>No chat history available</p>\n                </div>\n              ) : (\n                <div className=\"space-y-3\">\n                  {chatHistory.map((chat) => (\n                    <motion.div\n                      key={chat.id}\n                      whileHover={{ scale: 1.02 }}\n                      className={`group p-4 rounded-lg cursor-pointer border transition-all ${\n                        currentChatId === chat.id\n                          ? 'border-black dark:border-white bg-gray-50 dark:bg-gray-800'\n                          : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                      }`}\n                      onClick={() => loadChatFromHistory(chat.id)}\n                    >\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1 min-w-0\">\n                          <h3 className=\"font-medium text-sm mb-2 truncate\">{chat.title}</h3>\n                          <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-3 line-clamp-2\">\n                            {chat.lastMessage}\n                          </p>\n                          <div className=\"flex items-center justify-between\">\n                            <div className=\"flex items-center space-x-1 text-xs text-gray-400\">\n                              <Clock className=\"w-3 h-3\" />\n                              <span>{new Date(chat.timestamp).toLocaleDateString()}</span>\n                            </div>\n                            <span className=\"text-xs text-gray-400\">\n                              {chat.messages.length} messages\n                            </span>\n                          </div>\n                        </div>\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            deleteChatFromHistory(chat.id);\n                          }}\n                          className=\"opacity-0 group-hover:opacity-100 ml-2 p-1 hover:bg-red-100 dark:hover:bg-red-900 rounded transition-all\"\n                        >\n                          <Trash2 className=\"w-4 h-4 text-red-500\" />\n                        </button>\n                      </div>\n                    </motion.div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Main Chat Area */}\n      <main className={`flex-1 overflow-y-auto bg-white dark:bg-black transition-all duration-300 ${\n        showHistoryPanel ? 'ml-80' : ''\n      }`}>\n        <div className=\"max-w-4xl mx-auto px-4 py-6\">\n          {messages.length === 0 ? (\n            /* Empty State */\n            <motion.div \n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.6 }}\n              className=\"flex items-center justify-center h-full min-h-[60vh]\"\n            >\n              <div className=\"text-center\">\n                <motion.div\n                  initial={{ scale: 0 }}\n                  animate={{ scale: 1 }}\n                  transition={{ delay: 0.2, type: \"spring\", stiffness: 200 }}\n                  className=\"w-16 h-16 bg-black dark:bg-white rounded-2xl flex items-center justify-center mx-auto mb-6\"\n                >\n                  <div className=\"text-2xl font-bold text-white dark:text-black\">S</div>\n                </motion.div>\n                <motion.h2 \n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  transition={{ delay: 0.4 }}\n                  className=\"text-3xl font-bold text-black dark:text-white mb-3\"\n                >\n                  How can I help you today?\n                </motion.h2>\n                <motion.p \n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  transition={{ delay: 0.6 }}\n                  className=\"text-black/60 dark:text-white/60 text-lg\"\n                >\n                  Start a conversation by typing a message below.\n                </motion.p>\n              </div>\n            </motion.div>\n          ) : (\n            /* Messages */\n            <div className=\"space-y-6\">\n              {messages.map((message) => (\n                <motion.div\n                  key={message.id}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ duration: 0.3 }}\n                  className={`flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`}\n                  onMouseEnter={() => setHoveredMessageId(message.id)}\n                  onMouseLeave={() => setHoveredMessageId(null)}\n                >\n                  <div className={`max-w-[80%] ${message.sender === 'user' ? 'order-2' : 'order-1'}`}>\n                    <div className={`flex items-start space-x-3 ${\n                      message.sender === 'user' ? 'flex-row-reverse space-x-reverse' : ''\n                    }`}>\n                      <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                        message.sender === 'user' \n                          ? 'bg-black dark:bg-white' \n                          : 'bg-gray-200 dark:bg-gray-700'\n                      }`}>\n                        {message.sender === 'user' ? (\n                          <User className=\"w-4 h-4 text-white dark:text-black\" />\n                        ) : (\n                          <div className=\"text-sm font-bold text-black dark:text-white\">S</div>\n                        )}\n                      </div>\n                      \n                      <div className={`flex-1 ${\n                        message.sender === 'user' ? 'text-right' : 'text-left'\n                      }`}>\n                        <div className={`inline-block p-4 rounded-2xl ${\n                          message.sender === 'user'\n                            ? 'bg-black dark:bg-white text-white dark:text-black'\n                            : 'bg-gray-100 dark:bg-gray-800 text-black dark:text-white'\n                        }`}>\n                          <div className={`whitespace-pre-wrap ${\n                            message.isExpanded ? '' : 'line-clamp-6'\n                          }`}>\n                            {message.content}\n                          </div>\n                          \n                          {message.content.length > 300 && (\n                            <button\n                              onClick={() => toggleMessageExpansion(message.id)}\n                              className={`mt-2 text-sm underline ${\n                                message.sender === 'user'\n                                  ? 'text-white/70 dark:text-black/70'\n                                  : 'text-black/70 dark:text-white/70'\n                              }`}\n                            >\n                              {message.isExpanded ? 'Show less' : 'Show more'}\n                            </button>\n                          )}\n                        </div>\n                        \n                        <div className={`flex items-center mt-2 space-x-2 text-xs text-gray-500 ${\n                          message.sender === 'user' ? 'justify-end' : 'justify-start'\n                        }`}>\n                          <span>{message.timestamp.toLocaleTimeString()}</span>\n                          \n                          <AnimatePresence>\n                            {hoveredMessageId === message.id && (\n                              <motion.div\n                                initial={{ opacity: 0, scale: 0.8 }}\n                                animate={{ opacity: 1, scale: 1 }}\n                                exit={{ opacity: 0, scale: 0.8 }}\n                                className=\"flex items-center space-x-1\"\n                              >\n                                <button\n                                  onClick={() => copyMessage(message.content)}\n                                  className=\"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors\"\n                                  title=\"Copy message\"\n                                >\n                                  <Copy className=\"w-3 h-3\" />\n                                </button>\n                                \n                                {message.sender === 'ai' && (\n                                  <>\n                                    <button\n                                      className=\"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors\"\n                                      title=\"Good response\"\n                                    >\n                                      <ThumbsUp className=\"w-3 h-3\" />\n                                    </button>\n                                    <button\n                                      className=\"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors\"\n                                      title=\"Poor response\"\n                                    >\n                                      <ThumbsDown className=\"w-3 h-3\" />\n                                    </button>\n                                  </>\n                                )}\n                                \n                                <div className=\"relative\">\n                                  <button\n                                    onClick={() => setOpenDropdownId(\n                                      openDropdownId === message.id ? null : message.id\n                                    )}\n                                    className=\"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors\"\n                                  >\n                                    <MoreHorizontal className=\"w-3 h-3\" />\n                                  </button>\n                                  \n                                  <AnimatePresence>\n                                    {openDropdownId === message.id && (\n                                      <motion.div\n                                        initial={{ opacity: 0, y: -10 }}\n                                        animate={{ opacity: 1, y: 0 }}\n                                        exit={{ opacity: 0, y: -10 }}\n                                        className=\"absolute bottom-full right-0 mb-2 w-32 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10\"\n                                      >\n                                        <button className=\"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 rounded-t-lg\">\n                                          Edit\n                                        </button>\n                                        <button className=\"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700\">\n                                          Share\n                                        </button>\n                                        <button className=\"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-b-lg\">\n                                          Delete\n                                        </button>\n                                      </motion.div>\n                                    )}\n                                  </AnimatePresence>\n                                </div>\n                              </motion.div>\n                            )}\n                          </AnimatePresence>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </motion.div>\n              ))}\n              \n              {/* Typing Indicator */}\n              <AnimatePresence>\n                {isTyping && (\n                  <motion.div\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0, y: -20 }}\n                    className=\"flex justify-start\"\n                  >\n                    <div className=\"flex items-start space-x-3\">\n                      <div className=\"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center\">\n                        <div className=\"text-sm font-bold text-black dark:text-white\">S</div>\n                      </div>\n                      <div className=\"bg-gray-100 dark:bg-gray-800 p-4 rounded-2xl\">\n                        <div className=\"flex space-x-1\">\n                          <motion.div\n                            animate={{ scale: [1, 1.2, 1] }}\n                            transition={{ duration: 1, repeat: Infinity, delay: 0 }}\n                            className=\"w-2 h-2 bg-gray-400 rounded-full\"\n                          />\n                          <motion.div\n                            animate={{ scale: [1, 1.2, 1] }}\n                            transition={{ duration: 1, repeat: Infinity, delay: 0.2 }}\n                            className=\"w-2 h-2 bg-gray-400 rounded-full\"\n                          />\n                          <motion.div\n                            animate={{ scale: [1, 1.2, 1] }}\n                            transition={{ duration: 1, repeat: Infinity, delay: 0.4 }}\n                            className=\"w-2 h-2 bg-gray-400 rounded-full\"\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </motion.div>\n                )}\n              </AnimatePresence>\n              \n              <div ref={messagesEndRef} />\n            </div>\n          )}\n        </div>\n      </main>\n\n      {/* Input Area */}\n      <motion.footer \n        initial={{ y: 100 }}\n        animate={{ y: 0 }}\n        className=\"fixed bottom-0 left-0 right-0 bg-white dark:bg-black border-t border-gray-200 dark:border-gray-700 p-4\"\n      >\n        {/* Uploaded Files */}\n        <AnimatePresence>\n          {uploadedFiles.length > 0 && (\n            <motion.div\n              initial={{ opacity: 0, height: 0 }}\n              animate={{ opacity: 1, height: 'auto' }}\n              exit={{ opacity: 0, height: 0 }}\n              className=\"mb-4\"\n            >\n              <div className=\"max-w-4xl mx-auto\">\n                <div className=\"flex flex-wrap gap-2\">\n                  {uploadedFiles.map((file) => (\n                    <motion.div\n                      key={file.id}\n                      initial={{ opacity: 0, scale: 0.8 }}\n                      animate={{ opacity: 1, scale: 1 }}\n                      exit={{ opacity: 0, scale: 0.8 }}\n                      className=\"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded-lg\"\n                    >\n                      <FileText className=\"w-4 h-4 text-gray-500\" />\n                      <span className=\"text-sm truncate max-w-32\">{file.name}</span>\n                      <span className=\"text-xs text-gray-400\">({formatFileSize(file.size)})</span>\n                      <button\n                        onClick={() => removeFile(file.id)}\n                        className=\"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors\"\n                      >\n                        <X className=\"w-3 h-3\" />\n                      </button>\n                    </motion.div>\n                  ))}\n                </div>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"flex items-end space-x-4\">\n            {/* Mobile Menu Button */}\n            <button\n              onClick={() => setIsMobileMenuOpen(true)}\n              className=\"lg:hidden p-3 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors\"\n            >\n              <Menu className=\"w-6 h-6\" />\n            </button>\n\n            {/* Input Container */}\n            <div className=\"flex-1 relative\">\n              <div className=\"flex items-end bg-gray-100 dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 focus-within:border-black dark:focus-within:border-white transition-colors\">\n                <textarea\n                  ref={inputRef}\n                  value={inputMessage}\n                  onChange={(e) => setInputMessage(e.target.value)}\n                  onKeyPress={handleKeyPress}\n                  placeholder=\"Type your message...\"\n                  className=\"flex-1 bg-transparent px-4 py-3 resize-none outline-none placeholder-gray-500 dark:placeholder-gray-400 max-h-32\"\n                  rows={1}\n                  style={{\n                    height: 'auto',\n                    minHeight: '48px',\n                    maxHeight: '128px'\n                  }}\n                  onInput={(e) => {\n                    const target = e.target as HTMLTextAreaElement;\n                    target.style.height = 'auto';\n                    target.style.height = Math.min(target.scrollHeight, 128) + 'px';\n                  }}\n                />\n                \n                <div className=\"flex items-center space-x-2 px-3 py-2\">\n                  <input\n                    ref={fileInputRef}\n                    type=\"file\"\n                    multiple\n                    onChange={handleFileUpload}\n                    className=\"hidden\"\n                    accept=\".txt,.pdf,.doc,.docx,.png,.jpg,.jpeg\"\n                  />\n                  \n                  <button\n                    onClick={() => fileInputRef.current?.click()}\n                    className=\"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n                    title=\"Upload files\"\n                  >\n                    <Upload className=\"w-5 h-5 text-gray-500\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Send Button */}\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={handleSendMessage}\n              disabled={!inputMessage.trim() && uploadedFiles.length === 0}\n              className=\"p-3 bg-black dark:bg-white text-white dark:text-black rounded-xl hover:bg-gray-800 dark:hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              <Send className=\"w-6 h-6\" />\n            </motion.button>\n\n            {/* Theme Toggle */}\n            <ThemeToggle />\n          </div>\n        </div>\n      </motion.footer>\n\n      {/* Modals */}\n      <AnimatePresence>\n        {showFilesModal && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\"\n            onClick={() => setShowFilesModal(false)}\n          >\n            <motion.div\n              initial={{ scale: 0.9, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              exit={{ scale: 0.9, opacity: 0 }}\n              className=\"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-md\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold\">Files</h3>\n                <button\n                  onClick={() => setShowFilesModal(false)}\n                  className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n              \n              <div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n                <Folder className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n                <p>No files uploaded yet</p>\n                <p className=\"text-sm mt-2\">Upload files to get started</p>\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n\n        {showHelpModal && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\"\n            onClick={() => setShowHelpModal(false)}\n          >\n            <motion.div\n              initial={{ scale: 0.9, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              exit={{ scale: 0.9, opacity: 0 }}\n              className=\"bg-white dark:bg-gray-900 rounded-2xl p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              <div className=\"flex items-center justify-between mb-6\">\n                <h3 className=\"text-xl font-semibold\">Help & FAQ</h3>\n                <button\n                  onClick={() => setShowHelpModal(false)}\n                  className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n              \n              <div className=\"space-y-6\">\n                <div>\n                  <h4 className=\"font-semibold mb-2 flex items-center\">\n                    <Sparkles className=\"w-5 h-5 mr-2\" />\n                    Getting Started\n                  </h4>\n                  <p className=\"text-gray-600 dark:text-gray-400 text-sm\">\n                    Welcome to SoulGPT! Start by typing a message in the input field below. You can ask questions, request help with tasks, or have a conversation.\n                  </p>\n                </div>\n                \n                <div>\n                  <h4 className=\"font-semibold mb-2 flex items-center\">\n                    <Upload className=\"w-5 h-5 mr-2\" />\n                    File Uploads\n                  </h4>\n                  <p className=\"text-gray-600 dark:text-gray-400 text-sm\">\n                    You can upload files by clicking the upload button next to the message input. Supported formats include text files, PDFs, and images.\n                  </p>\n                </div>\n                \n                <div>\n                  <h4 className=\"font-semibold mb-2 flex items-center\">\n                    <History className=\"w-5 h-5 mr-2\" />\n                    Chat History\n                  </h4>\n                  <p className=\"text-gray-600 dark:text-gray-400 text-sm\">\n                    Your conversations are automatically saved. Access previous chats from the sidebar or use the history panel for a detailed view.\n                  </p>\n                </div>\n                \n                <div>\n                  <h4 className=\"font-semibold mb-2 flex items-center\">\n                    <Settings className=\"w-5 h-5 mr-2\" />\n                    Customization\n                  </h4>\n                  <p className=\"text-gray-600 dark:text-gray-400 text-sm\">\n                    Personalize your experience in the Settings page. You can change themes, adjust preferences, and manage your account.\n                  </p>\n                </div>\n              </div>\n              \n              <div className=\"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700\">\n                <div className=\"flex items-center justify-center space-x-4 text-sm text-gray-500 dark:text-gray-400\">\n                  <a href=\"#\" className=\"flex items-center hover:text-black dark:hover:text-white transition-colors\">\n                    <ExternalLink className=\"w-4 h-4 mr-1\" />\n                    Documentation\n                  </a>\n                  <a href=\"#\" className=\"flex items-center hover:text-black dark:hover:text-white transition-colors\">\n                    <ExternalLink className=\"w-4 h-4 mr-1\" />\n                    Support\n                  </a>\n                </div>\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default ChatInterface;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}